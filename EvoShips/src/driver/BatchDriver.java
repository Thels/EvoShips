package driver;

import genetic.Chromosome;

import java.util.ArrayList;

import arena.BatchArena;
import arena.objects.AbstractShip;
import arena.objects.ships.AsteroidHunter;
import arena.objects.ships.NNShip;
import arena.objects.ships.TheRock;

public class BatchDriver 
{
	
	private int maxAsteroids = 40;
	private int asteroidSpawnChance = 1;
	private double[] weights = {
			0.5902631600141028,
			-0.9635716084948777,
			0.41289002681961107,
			0.4931473082371636,
			0.037533705069519696,
			0.3419077757802417,
			0.6574371583777949,
			0.009376789427882337,
			-0.8046513593498151,
			0.004468461787707212,
			0.351185062312769,
			0.017203900261906435,
			0.04586653317342926,
			0.14798600386413296,
			-0.6668987812940632,
			0.8542164781359097,
			-0.6450165772611897,
			0.21250828865395743,
			-0.48094108749135445,
			0.19750896894055903,
			0.028188526639736144,
			-0.8209052295868864,
			-0.7473416914681524,
			0.520409074009048,
			-0.5193396993837609,
			-0.12309727044603747,
			0.24303640357793643,
			0.29829577456578793,
			-0.2362221969078343,
			-0.6622708967536445,
			-0.4095011375740675,
			-0.6003095138051359,
			-0.28885878103073115,
			-0.43134112340758,
			-0.22545250484238533,
			-0.7560743758216948,
			-0.5501012642491075,
			0.7016914849892651,
			-0.005146584590826397,
			-0.30446393706480956,
			0.5178025533826752,
			0.4562233105863618,
			-0.37572555765138094,
			0.3699491250590129,
			0.34904098359372837,
			-0.853684066734178,
			-0.3944206208892438,
			0.9411986827988026,
			-0.993703127640714,
			-0.8880110474184865,
			0.1479925782748973,
			-0.3699212627749914,
			0.3174053655435285,
			-0.03557677221223887,
			0.006169740896739717,
			0.749510157589003,
			0.12946048511742236,
			0.6800990896535276,
			-0.9985474795175325,
			-0.040218050834620045,
			0.6172818559686515,
			-0.5979220639904177,
			0.99563840188305,
			0.04032267177131177,
			0.3549789376523864,
			0.895886996529162,
			-0.4248959208904314,
			0.9987108866643158,
			-0.512941469840288,
			-0.41288744348569417,
			0.6662419682108368,
			0.3259125932650049,
			-0.037943711902600485,
			0.6671396731823792,
			0.5216306249652553,
			-0.110615401200164,
			0.8233000434302591,
			0.6811995770236202,
			0.4031783718939971,
			0.3986917106128708,
			0.138602928023416,
			-0.26675751434520156,
			0.13439269336582005,
			-0.4417690749660578,
			-0.8385747679387185,
			0.6487430160752017,
			-0.16855128732054814,
			0.12648187896866803,
			-0.42140714363293974,
			-0.8252030110414824,
			-0.32802026312142707,
			0.391697404157221,
			0.8906149673031327,
			-0.500969498234472,
			-0.3971507549350807,
			0.9809602241078217,
			-0.8622558055769574,
			-0.7378196632751689,
			0.19151550456199762,
			-0.728952022738138,
			0.732843311307669,
			0.10312634625375217,
			-0.4538557440554153,
			0.15526619047116808,
			-0.7156189723506654,
			-0.9281025015920497,
			0.5008298845352207,
			-0.13369351276270725,
			0.9984395461251454,
			0.564886132874352,
			0.6469225653569342,
			0.3201140005357809,
			0.09484084231009648,
			-0.9744966425743637,
			0.0500458687622376,
			0.2960258043124794,
			-0.6578089007044988,
			0.22769413637782165,
			0.8733634210780342,
			-0.6347425747914343,
			0.2757900769429188,
			-0.750772718886114,
			-0.907869103634113,
			-0.3472906065421426,
			0.7665444417959988,
			-0.833432330258387,
			0.6306538230034565,
			-0.03258161141102833,
			0.7529415253119776,
			0.7313836312987185,
			-0.4122975460985835,
			0.21408848164325822,
			-0.06174925377585905,
			-0.3653025277058747,
			-0.34283530652737415,
			-0.07131798323868177,
			-0.20373242314056272,
			0.4103914991359323,
			-0.4195058823870669,
			-0.07145535919817636,
			-0.22789259823042674,
			-0.24640900325646087,
			0.24031583019864144,
			0.5780528127477006,
			0.26536860099851545,
			0.6138897261340849,
			-0.19079271528219344,
			-0.6154347765338014,
			0.610019058282088,
			0.5033363628450859,
			0.4506236438898017,
			0.1805274537156094,
			0.4645935280338309,
			-0.46878859512648996,
			0.0740852677588495,
			0.41851899253740965,
			-0.7313979816736846,
			-0.8071758902846922,
			0.6481716887937878,
			0.22875640637142192,
			0.4763614372103476,
			0.2948602128621567,
			-0.28232603965852543,
			-0.11728556356197639,
			-0.9454094984255489,
			-0.42277484859615266,
			-0.9336827267809824,
			-0.36244056022639326,
			0.26205143830797817,
			-0.32156584195199533,
			0.3217259103863146,
			0.8098886587827219,
			-0.18508679809680162,
			0.8181419412909479,
			0.9362707237726056,
			0.8635368743916491,
			-0.5553378942524947,
			0.3150396051093193,
			0.8926736930646268,
			-0.4887069061727922,
			-0.3103145548922055,
			0.43400916457458893,
			0.638178241261272,
			-0.29398414520540195,
			-0.19571700862080443,
			0.6152283754201269,
			-0.763301715460523,
			0.00814732951381636,
			-0.5526836868790885,
			-0.11354974499698456,
			0.42217033516761737,
			0.9185850921377545,
			0.8096896615746185,
			0.08318781539026143,
			0.11570779276511745,
			0.08760547329889079,
			-0.5580023822591121,
			-0.6922524680235544,
			-0.8415845671522214,
			-0.41304472472018505,
			-0.33960060598122255,
			0.45853488514441454,
			-0.8648333314547316,
			-0.8495818570890198,
			0.5264632362326913,
			0.24795212185560722,
			0.6130373593508269,
			-0.35716483403752475,
			0.9201337331487063,
			0.6270564845008454,
			-0.4499978399052763,
			-0.3929548263782393,
			0.9504668635345164,
			0.5110163619737887,
			0.33178646156485636,
			0.8789749858977213,
			0.5615037173441451,
			0.6166603591756835,
			-0.2788329909111186,
			-0.29651955791882934,
			-0.30320317096783633,
			0.9913757956847948,
			0.9726573984961625,
			-0.04767533473867003,
			-0.14667966994747694,
			-0.7531595639889289,
			-0.3334984040113246,
			0.3895973883696693,
			-0.7801632239395241,
			0.04988087396277474,
			0.6219832785045099,
			0.8849199606161976,
			0.8021729459141044,
			-0.6381550074244794,
			0.49305867786947044,
			0.42413818643334655,
			-0.17695856860154124,
			-0.7125184171777791,
			-0.377854169868849,
			0.3898965993254737,
			0.2742314469941213,
			0.5894010051818047,
			-0.0689761476802172,
			-0.4050707786469958,
			0.681477083514236,
			0.403638322707363,
			0.5824423171532712,
			0.10437989681292925,
			0.7882272971634141,
			0.6579444843555379,
			-0.30982265919386753,
			-0.7486215446206907,
			-0.4479953246975057,
			0.03089101037597941,
			0.007415270793869166,
			0.6081341657943785,
			-0.3327437839563433,
			0.3360067738982663,
			0.898891438041111,
			0.7027021795769252,
			-0.4230054082450315,
			-0.7893088608556554,
			0.9823477541779643,
			-0.34569293479259255,
			-0.42007738293800634,
			-0.7369374045777329,
			0.4007494318927496,
			-0.7571336458320075,
			-0.5078357077480932,
			-0.03210828464131088,
			-0.6355383425749278,
			-0.964313458613203,
			-0.7832477922481772,
			-0.8341723062640588,
			-0.9652046288876849,
			-0.30036758545290976,
			-0.19305790813038282,
			-0.7566451288008806,
			-0.48262974132284386
};

	
	
	public BatchDriver() 
	{
		System.out.println("Batch started");
		AbstractShip ship1 = new TheRock();
		AbstractShip nnShip = new NNShip(3, 9, new Chromosome(weights));
		
		ArrayList<AbstractShip> ships = new ArrayList<AbstractShip>();
		ships.add(ship1);
		
		BatchArena batch = new BatchArena(ships	, 5000, maxAsteroids, asteroidSpawnChance);
		batch.startBatch();
		while(batch.isBatchRunning())
		{
			
		}
		System.out.println("Batch ended");
		for(AbstractShip s : ships)
		{
			double d = (double)s.getScore() / 5000;
			System.out.println(s.getShipName() + " : "+d);
		}
			
	}
	
	public static void main(String[] args)
	{
		new BatchDriver();
	}

}
